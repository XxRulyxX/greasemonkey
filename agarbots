// ==UserScript==
// @name         AgarBots.net Client
// @namespace    AgarBots.net Client
// @version      1.4.1
// @downloadURL  https://agarbots.net/download/client.js
// @updateURL    https://agarbots.net/download/client.js
// @description  AgarBots.net Client
// @author       Code Jan
// @include      http://agar.io/
// @grant        none
// ==/UserScript==

//------------------------

// MIT License:
//
// Copyright (c) 2010-2012, Joe Walnes
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

function guid(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()}function timeToDate(a){var b=parseInt(a/86400),c=parseInt(a/3600)%24,d=parseInt(a/60)%60,e=a%60,f="";if(b>0)var f=(10>b?""+b:b)+"d, ";return f+c+"h, "+d+"m, "+e+"s"}function q(){for(var a=0;15e3>a;a++)d.cancelAnimationFrame(a),clearTimeout(a),clearInterval(a);main(window,window.jQuery)}!function(a,b){"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports?module.exports=b():a.ReconnectingWebSocket=b()}(this,function(){function a(b,c,d){function l(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,!1,!1,b),c}var e={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"};d||(d={});for(var f in e)"undefined"!=typeof d[f]?this[f]=d[f]:this[f]=e[f];this.url=b,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var h,g=this,i=!1,j=!1,k=document.createElement("div");k.addEventListener("open",function(a){g.onopen(a)}),k.addEventListener("close",function(a){g.onclose(a)}),k.addEventListener("connecting",function(a){g.onconnecting(a)}),k.addEventListener("message",function(a){g.onmessage(a)}),k.addEventListener("error",function(a){g.onerror(a)}),this.addEventListener=k.addEventListener.bind(k),this.removeEventListener=k.removeEventListener.bind(k),this.dispatchEvent=k.dispatchEvent.bind(k),this.open=function(b){if(h=new WebSocket(g.url,c||[]),h.binaryType=this.binaryType,b){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else k.dispatchEvent(l("connecting")),this.reconnectAttempts=0;(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",g.url);var d=h,e=setTimeout(function(){(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",g.url),j=!0,d.close(),j=!1},g.timeoutInterval);h.onopen=function(c){clearTimeout(e),(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onopen",g.url),g.protocol=h.protocol,g.readyState=WebSocket.OPEN,g.reconnectAttempts=0;var d=l("open");d.isReconnect=b,b=!1,k.dispatchEvent(d)},h.onclose=function(c){if(clearTimeout(e),h=null,i)g.readyState=WebSocket.CLOSED,k.dispatchEvent(l("close"));else{g.readyState=WebSocket.CONNECTING;var d=l("connecting");d.code=c.code,d.reason=c.reason,d.wasClean=c.wasClean,k.dispatchEvent(d),b||j||((g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onclose",g.url),k.dispatchEvent(l("close")));var e=g.reconnectInterval*Math.pow(g.reconnectDecay,g.reconnectAttempts);setTimeout(function(){g.reconnectAttempts++,g.open(!0)},e>g.maxReconnectInterval?g.maxReconnectInterval:e)}},h.onmessage=function(b){(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",g.url,b.data);var c=l("message");c.data=b.data,k.dispatchEvent(c)},h.onerror=function(b){(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onerror",g.url,b),k.dispatchEvent(l("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(b){if(h)return(g.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","send",g.url,b),h.send(b);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(a,b){"undefined"==typeof a&&(a=1e3),i=!0,h&&h.close(a,b)},this.refresh=function(){h&&h.close()}}if("WebSocket"in window)return a.prototype.onopen=function(a){},a.prototype.onclose=function(a){},a.prototype.onconnecting=function(a){},a.prototype.onmessage=function(a){},a.prototype.onerror=function(a){},a.debugAll=!1,a.CONNECTING=WebSocket.CONNECTING,a.OPEN=WebSocket.OPEN,a.CLOSING=WebSocket.CLOSING,a.CLOSED=WebSocket.CLOSED,a});var Version=GM_info.script.version,Name=GM_info.script.name;console.log("Start loading "+Name+" v"+Version+"..."),window.localStorage.nick&&(nick.value=window.localStorage.nick);var botLayer=document.createElement("div");botLayer.id="botlayer",botLayer.style.position="absolute",botLayer.style.left="1%",botLayer.style.top="3.25%",botLayer.style.width="300px",botLayer.style.height="175px",botLayer.style.padding="1%",botLayer.style.fontSize="14px",document.body.appendChild(botLayer),$.getScript("https://cdnjs.cloudflare.com/ajax/libs/canvasjs/1.4.1/canvas.min.js"),$.getScript("https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"),window.serverip="151.80.103.226:1337";var posX=0,posY=0,outdated=!1;window.connected=!1,window.connectedBots=0,window.availableBots=0,window.time=0,window.followMouse=!1,window.started=!1,window.nextUpdate=10,window.partyid=0,window.lastmousechange=0,window.lastsplit=0,window.lasteject=0,window.lastdisconnect=0,window.partycreatetime=0;var main=function(a,b){function c(){gb=!0,l(),setInterval(l,18e4),va=ta=document.getElementById("canvas"),ua=va.getContext("2d"),va.onmousedown=function(a){if(yb){var b=a.clientX-(5+wa/5/2),c=a.clientY-(5+wa/5/2);if(Math.sqrt(b*b+c*c)<=wa/5/2)return L(),void O(17)}Ia=1*a.clientX,Ja=1*a.clientY,k(),L()},va.onmousemove=function(a){Ia=1*a.clientX,Ja=1*a.clientY,k()},va.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",i,!1):document.body.onmousewheel=i;var c=!1,j=!1,m=!1;a.onkeydown=function(a){32!=a.keyCode||c||(L(),O(17),c=!0),81!=a.keyCode||j||(O(18),j=!0),87!=a.keyCode||m||(L(),O(21),m=!0),81!=a.keyCode||d(),69!=a.keyCode||g(),68!=a.keyCode||h(),83!=a.keyCode||e(),16!=a.keyCode||f(),27==a.keyCode&&(a.preventDefault(),o(300))},a.onkeyup=function(a){32==a.keyCode&&(c=!1),87==a.keyCode&&(m=!1),81==a.keyCode&&j&&(O(19),j=!1)},a.onblur=function(){O(19),m=j=c=!1},a.onresize=Q,a.requestAnimationFrame(Yb),setInterval(L,40),Va&&b("#region").val(Va),q(),n(b("#region").val()),0==ub&&Va&&B(),Fb.ABGroupDFP=Db("AB9"),Fb.ABGroupRubicon=Db("AB10_Rubicon"),Kb.w=a.hasBottomAd,Eb&&console.log("Init ads"),w(),z(),Eb&&console.log("Ads initted"),Eb&&console.log("Your group: ",t()?"rubicon":"dfp"),s(),o(0),Q(),a.location.hash&&6<=a.location.hash.length&&ha(a.location.hash)}function d(){console.log("Difference: "+(Date.now()-window.lastmousechange)),Date.now()-window.lastmousechange>250&&(window.lastmousechange=Date.now(),window.followMouse=!window.followMouse)}function e(){for(var a=6,b=50,c=0;a>c;++c)setTimeout(function(){window.onkeydown({keyCode:87}),window.onkeyup({keyCode:87})},c*b)}function f(){for(var a=6,b=50,c=0;a>c;++c)setTimeout(function(){window.onkeydown({keyCode:32}),window.onkeyup({keyCode:32})},c*b)}function g(){Date.now()-window.lastsplit>250&&(window.connected&&window.server.send(JSON.stringify({type:"split",uuid:window.localStorage.uuid})),window.lastsplit=Date.now())}function h(){Date.now()-window.lasteject>150&&(window.connected&&window.server.send(JSON.stringify({type:"eject",uuid:window.localStorage.uuid})),window.lasteject=Date.now())}function i(a){rb*=Math.pow(.9,a.wheelDelta/-150||a.detail||0),.4>rb&&(rb=.4),rb>4/Ua&&(rb=4/Ua)}function j(){if(.4>Ua)ya=null;else{for(var a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0;e<Fa.length;e++){var f=Fa[e];!f.H()||f.M||20>=f.size*Ua||(a=Math.min(f.x-f.size,a),b=Math.min(f.y-f.size,b),c=Math.max(f.x+f.size,c),d=Math.max(f.y+f.size,d))}for(ya=bc.init({ca:a-10,da:b-10,$:c+10,ba:d+10,ha:2,ia:4}),e=0;e<Fa.length;e++)if(f=Fa[e],f.H()&&!(20>=f.size*Ua))for(a=0;a<f.a.length;++a)b=f.a[a].x,c=f.a[a].y,Aa-wa/2/Ua>b||Ba-xa/2/Ua>c||b>Aa+wa/2/Ua||c>Ba+xa/2/Ua||ya.Z(f.a[a])}}function k(){Ka=(Ia-wa/2)/Ua+Aa,La=(Ja-xa/2)/Ua+Ba}function l(){null==Bb&&(Bb={},b("#region").children().each(function(){var a=b(this),c=a.val();c&&(Bb[c]=a.text())})),b.get(ra+"info",function(a){var d,c={};for(d in a.regions){var e=d.split(":")[0];c[e]=c[e]||0,c[e]+=a.regions[d].numPlayers}for(d in c)b('#region option[value="'+d+'"]').text(Bb[d]+" ("+c[d]+" players)")},"json")}function m(){b("#adsBottom").hide(),b("#overlays").hide(),b("#stats").hide(),b("#mainPanel").hide(),jc=tb=!1,q();var a=Jb.aa;y(a),Ob(a),a=Jb.ac,y(a),Ob(a)}function n(c){c&&(c==Va?b(".btn-needs-server").prop("disabled",!1):(b("#region").val()!=c&&b("#region").val(c),Va=a.localStorage.location=c,b(".region-message").hide(),b(".region-message."+c).show(),b(".btn-needs-server").prop("disabled",!1),gb&&B()))}function o(a){tb||jc||(kc?b(".btn-spectate").prop("disabled",!0):b(".btn-spectate").prop("disabled",!1),Pa=null,Cb||(b("#adsBottom").show(),b("#g300x250").hide(),b("#a300x250").show(),b("#g728x90").hide(),b("#a728x90").show()),v(Cb?Jb.ac:Jb.aa),Cb=!1,1e3>a&&(sb=1),tb=!0,b("#mainPanel").show(),a>0?b("#overlays").fadeIn(a):b("#overlays").show())}function p(a){b("#helloContainer").attr("data-gamemode",a),eb=a,b("#gamemode").val(a)}function q(){b("#region").val()?a.localStorage.location=b("#region").val():a.localStorage.location&&b("#region").val(a.localStorage.location),b("#region").val()?b("#locationKnown").append(b("#region")):b("#locationUnknown").append(b("#region"))}function r(b){return a.i18n[b]||a.i18n_dict.en[b]||b}function s(){var b=-1!=a.location.search.indexOf("fb"),b=t()&&!b;googletag.cmd.push(function(){googletag.display("g300x250")}),Ib&&googletag.cmd.push(function(){googletag.display("g728x90")}),b||(googletag.cmd.push(function(){googletag.display("s300x250")}),googletag.cmd.push(function(){googletag.display("a300x250")}),Ib&&googletag.cmd.push(function(){googletag.display("a728x90")}))}function t(){return!(50>u("ABGroupRubicon"))}function u(a){return a in Fb?Fb[a]:0}function v(a){x(a);for(var b=0;b<a.length;b++)if(!("type"in a[b]&&"rubicon"!=a[b].type)){var c=a[b].data;Eb&&console.log("Rubicon: refreshing:"+c.id),Pb.F(c.id,c.size,c.json)}}function w(){var b={},c=null,d=null,e=null,f=null,g=-1!=a.location.search.indexOf("fb"),h=t()&&!g,i=Kb.w;g?(b="/53945695/agar_facebook/agar/300x250",e="/53945695/agar_facebook/agar/300x250_Stats",f="/53945695/agar_facebook/agar/300x250"):(f="/116850162/300x250_init",c="/116850162/728x90_init",b="/116850162/300x250_login",e="/116850162/300x250_stats",d="/116850162/728x90_login");var j=a.googletag;j.cmd.push(function(){j.pubads().setTargeting("abtest",u("ABGroupDFP")+""),Jb.ac.push(Nb.defineSlot(f,[300,250],"g300x250")),i&&Jb.ac.push(Nb.defineSlot(c,[728,90],"g728x90")),h||(Jb.ab.push(Nb.defineSlot(e,[300,250],"s300x250")),Jb.aa.push(Nb.defineSlot(b,[300,250],"a300x250")),i&&Jb.aa.push(Nb.defineSlot(d,[728,90],"a728x90"))),j.pubads().enableSingleRequest(),j.pubads().disableInitialLoad(),j.enableServices(),Lb=!0,null!=Mb&&(console.log("refreshing from queue"),x(Mb))})}function x(b){console.log("dfpInitialized="+Lb),Lb||(console.log("queuing refresh"),Mb=b);for(var c=[],d=0;d<b.length;d++)"type"in b[d]&&"dfpads"!=b[d].type?console.log("trying to refresh a non dfp ad. continue"):(Eb&&console.log("DFP: refreshing:"+b[d].data.A),c.push(b[d].data));0>=c.length||!a.googletag||a.googletag.cmd.push(function(){Gb&&(Gb=!1,setTimeout(function(){Gb=!0},6e4*Hb),a.googletag&&a.googletag.pubads&&a.googletag.pubads().refresh&&a.googletag.pubads().refresh(c))})}function y(b){for(var c=[],d=0;d<b.length;d++)"type"in b[d]&&"dfpads"!=b[d].type||(Eb&&console.log("DFP: destroying:"+b[d].data.A),c.push(b[d].data));a.googletag&&a.googletag.pubads&&a.googletag.pubads().clear&&a.googletag.pubads().clear(c)}function z(){if(t()){var a={acct:13694,site:73068,zone:346604,size:15},b={acct:13694,site:73068,zone:363786,size:2},c=Kb.w;Jb.ab.push(Pb.defineSlot(a,"300x250","s300x250")),Jb.aa.push(Pb.defineSlot(a,"300x250","a300x250")),c&&Jb.aa.push(Pb.defineSlot(b,"728x90","a728x90"))}}function A(){var c=++ub;console.log("Find "+Va+eb),C(),b.ajax(ra+"findServer",{error:function(){setTimeout(A,3e4)},success:function(b){if(c==ub){b.alert&&alert(b.alert);var d=b.ip;void 0!=oa.Y&&(d=a.location.hostname+":"+oa.Y),D("ws"+(qa?"s":"")+"://"+d,b.token)}},dataType:"json",method:"POST",cache:!1,crossDomain:!0,data:(Va+eb||"?")+"\n2200049715"})}function B(){gb&&Va&&(b("#connecting").show(),A())}function C(){if(za){za.onopen=null,za.onmessage=null,za.onclose=null;try{za.close()}catch(a){}za=null}window.server||(window.server=new ReconnectingWebSocket("ws://"+window.serverip,"echo-protocol"),window.server.onopen=function(a){window.connected=!0,window.server.send(JSON.stringify({type:"auth",uuid:window.localStorage.uuid,version:Version}))},window.server.onmessage=function(a){var c=JSON.parse(a.data);if("timeleft"===c.type&&c.uuid===window.localStorage.uuid){var d=c.timeleft;window.time=d,window.connectedBots=0;var e=document.getElementById("agarbots-botsavaible");null!==e&&e.parentNode.removeChild(e),window.time>0&&c.botsconnected>-1&&(b('<div id="agarbots-botsavaible"><br/><a target="blank" href="http://agarbots.net/admin"><button class="btn btn-primary" style="width:100%;">Bots available!</button></a></div>').appendTo("#instructions"),0==window.cd&&(window.cdcancel=!1,window.cd=1,countdown()))}if("botscount"===c.type&&c.uuid===window.localStorage.uuid){var d=c.timeleft;window.time=d,window.connectedBots=c.botsamount}if("authresult"===c.type&&c.uuid===window.localStorage.uuid){var f=c.version;if(Version!=f){var g=document.getElementById("loadingbar");null!==g&&void 0!==g&&g.parentNode.removeChild(g),b('<br/><button class="btn btn-danger" target="blank" href="http://agarbots.net/admin/getscript.php" style="width:100%;"><b>New Version found!</b> <br/> Update your client in Tampermonkey now!</button>').appendTo("#instructions")}else{if("none"!==c.motdtext){console.log("a");var h=document.getElementById("agarbots-motd");null!==h&&h.parentNode.removeChild(h),b('<div id="agarbots-motd"><br/><a target="blank" href="'+c.motdurl+'"><button class="btn btn-info" style="width:100%;">'+c.motdtext+"</button></a></div>").appendTo("#instructions")}if(c.authenticated){var g=document.getElementById("loadingbar");null!==g&&void 0!==g&&g.parentNode.removeChild(g);var e=document.getElementById("agarbots-loginsuccess");null!==e&&e.parentNode.removeChild(e),b('<div id="agarbots-loginsuccess"><br/><button class="btn btn-success" style="width:100%;">Successfully logged in!</button></div>').appendTo("#instructions"),"0"!==window.partyid&&0!==window.partyid&&(console.log("SENDING PARTY ID..."),window.server.send(JSON.stringify({type:"party",uuid:window.localStorage.uuid,value:window.partyid})))}else{var g=document.getElementById("loadingbar");null!==g&&void 0!==g&&g.parentNode.removeChild(g);var e=document.getElementById("agarbots-loginfailed");null!==e&&e.parentNode.removeChild(e),b('<div id="agarbots-loginfailed"><br/><a target="blank" href="http://agarbots.net/admin"><button class="btn btn-danger" style="width:100%;">Account not found - Connect your account now!</button></a></div>').appendTo("#instructions")}}}"timover"===c.type&&c.uuid===window.localStorage.uuid&&(window.server.onclose=function(){},window.server.close(),b('<br><button class="btn btn-danger" style="width:100%;">Bots expired!</button>').appendTo("#instructions"));var i={};for(var j in Ba)i[Ba[j].id]=Ba[j].name},window.server.onclose=function(a){window.connected&&(window.lastdisconnect=Date.now()),window.connected=!1})}function D(a,b){if(C(),na.ip&&(a="ws"+(qa?"s":"")+"://"+na.ip),null!=Rb){var c=Rb;Rb=function(){c(b)}}if(qa&&!oa.env_development&&!oa.env_local){var d=a.split(":");a="wss://ip-"+d[1].replace(/\./g,"-").replace(/\//g,"")+".tech.agar.io:"+ +d[2]}Ca=[],Da=[],Ea={},Fa=[],Ga=[],Ha=[],Vb=fb=null,$a=0,ob=!1,console.log("Connecting to "+a),za=new WebSocket(a),za.binaryType="arraybuffer",za.onopen=function(){var a;console.log("socket open"),a=E(5),a.setUint8(0,254),a.setUint32(1,5,!0),F(a),a=E(5),a.setUint8(0,255),a.setUint32(1,2200049715,!0),F(a),a=E(1+b.length),a.setUint8(0,80);for(var c=0;c<b.length;++c)a.setUint8(c+1,b.charCodeAt(c));F(a),P()},za.onmessage=H,za.onclose=G,za.onerror=function(){console.log("socket error")}}function E(a){return new DataView(new ArrayBuffer(a))}function F(a){za.send(a.buffer)}function G(){ob&&(Sb=500),console.log("socket close"),setTimeout(B,Sb),Sb*=2}function H(a){I(new DataView(a.data))}function I(b){function c(){for(var a="";;){var c=b.getUint16(d,!0);if(d+=2,0==c)break;a+=String.fromCharCode(c)}return a}var d=0;switch(240==b.getUint8(d)&&(d+=5),b.getUint8(d++)){case 16:J(b,d);break;case 17:bb=b.getFloat32(d,!0),d+=4,cb=b.getFloat32(d,!0),d+=4,db=b.getFloat32(d,!0),d+=4;break;case 20:Da=[],Ca=[];break;case 21:ib=b.getInt16(d,!0),d+=2,jb=b.getInt16(d,!0),d+=2,hb||(hb=!0,kb=ib,lb=jb);break;case 32:Ca.push(b.getUint32(d,!0)),d+=4;break;case 49:if(null!=fb)break;var e=b.getUint32(d,!0),d=d+4;Ha=[];for(var f=0;e>f;++f){var g=b.getUint32(d,!0),d=d+4;Ha.push({id:g,name:c()})}X();break;case 50:for(fb=[],e=b.getUint32(d,!0),d+=4,f=0;e>f;++f)fb.push(b.getFloat32(d,!0)),d+=4;X();break;case 64:Qa=b.getFloat64(d,!0),d+=8,Ra=b.getFloat64(d,!0),d+=8,Sa=b.getFloat64(d,!0),d+=8,Ta=b.getFloat64(d,!0),d+=8,bb=(Sa+Qa)/2,cb=(Ta+Ra)/2,db=1,0==Da.length&&(Aa=bb,Ba=cb,Ua=db),b.byteLength>d&&(b.getUint32(d,!0),d+=4,wb=c(),a.MC.updateServerVersion(wb),console.log("Server version "+wb));break;case 81:var h=b.getUint32(d,!0),d=d+4,i=b.getUint32(d,!0),d=d+4,j=b.getUint32(d,!0),d=d+4;setTimeout(function(){var b={level:h,xp:i,xpNeeded:j};a.MC.updateUserXPInfo(b),da(b)},1200)}}function J(c,d){function e(){for(var a="";;){var b=c.getUint16(d,!0);if(d+=2,0==b)break;a+=String.fromCharCode(b)}return a}function f(){for(var a="";;){var b=c.getUint8(d++);if(0==b)break;a+=String.fromCharCode(b)}return a}pb=Na=Date.now(),ob||(ob=!0,K()),Za=!1;var g=c.getUint16(d,!0);d+=2;for(var h=0;g>h;++h){var i=Ea[c.getUint32(d,!0)],j=Ea[c.getUint32(d+4,!0)];d+=8,i&&j&&(j.S(),j.l=j.x,j.m=j.y,j.k=j.size,j.B=i.x,j.C=i.y,j.h=j.size,j.L=Na,ja(i,j))}for(h=0;g=c.getUint32(d,!0),d+=4,0!=g;){++h;var k,i=c.getInt32(d,!0);d+=4,j=c.getInt32(d,!0),d+=4,k=c.getInt16(d,!0),d+=2;var l=c.getUint8(d++),m=c.getUint8(d++),n=c.getUint8(d++),m=aa(l<<16|m<<8|n),n=c.getUint8(d++),p=!!(1&n),q=!!(16&n),r=null;2&n&&(d+=4+c.getUint32(d,!0)),4&n&&(r=f());var s=e(),l=null;Ea.hasOwnProperty(g)?(l=Ea[g],l.K(),l.l=l.x,l.m=l.y,l.k=l.size,l.color=m):(l=new _(g,i,j,k,m,s),Fa.push(l),Ea[g]=l,l.ja=i,l.ka=j),l.c=p,l.g=q,l.B=i,l.C=j,l.h=k,l.L=Na,l.U=n,r&&(l.J=r),s&&l.q(s),-1!=Ca.indexOf(g)&&-1==Da.indexOf(l)&&(Da.push(l),1==Da.length&&(Aa=l.x,Ba=l.y,cc(),document.getElementById("overlays").style.display="none",gc=[],hc=0,ic=Da[0].color,kc=!0,lc=Date.now(),pc=oc=nc=0))}for(i=c.getUint32(d,!0),d+=4,h=0;i>h;h++)g=c.getUint32(d,!0),d+=4,l=Ea[g],null!=l&&l.S();Za&&0==Da.length&&(mc=Date.now(),kc=!1,tb||jc||(qc?(v(Jb.ab),ma(),jc=!0,b("#overlays").fadeIn(3e3),b("#stats").show()):o(3e3)),a.MC.deltaUpdateStats({games_played:1,total_mass:~~($a/100),turn_time:(mc-lc)/1e3,cells_eaten:oc}))}function K(){setTimeout(function(){b("#connecting").hide(),M()},1e3),Rb&&(Rb(),Rb=null)}function L(){if(N()){var a=Ia-wa/2,b=Ja-xa/2;64>a*a+b*b||.01>Math.abs(Tb-Ka)&&.01>Math.abs(Ub-La)||(Tb=Ka,Ub=La,a=E(13),a.setUint8(0,16),a.setInt32(1,Ka,!0),a.setInt32(5,La,!0),a.setUint32(9,0,!0),F(a))}}function M(){if(N()&&ob&&null!=Pa){var a=E(1+2*Pa.length);a.setUint8(0,0);for(var b=0;b<Pa.length;++b)a.setUint16(1+2*b,Pa.charCodeAt(b),!0);F(a),Pa=null}}function N(){return null!=za&&za.readyState==za.OPEN}function O(a){if(N()){var b=E(1);b.setUint8(0,a),F(b)}}function P(){if(N()&&null!=qb){var a=E(1+qb.length);a.setUint8(0,81);for(var b=0;b<qb.length;++b)a.setUint8(b+1,qb.charCodeAt(b));F(a)}}function Q(){wa=1*a.innerWidth,xa=1*a.innerHeight,ta.width=va.width=wa,ta.height=va.height=xa;var c=b("#helloContainer");c.css("transform","none");var d=c.height(),e=a.innerHeight;0!=d/2%2&&(d++,c.height(d)),d>e/1.1?c.css("transform","translate(-50%, -50%) scale("+e/d/1.1+")"):c.css("transform","translate(-50%, -50%)"),T()}function R(){var a;return a=1*Math.max(xa/1080,wa/1920),a*=rb}function S(){if(0!=Da.length){for(var a=0,b=0;b<Da.length;b++)a+=Da[b].size;a=Math.pow(Math.min(64/a,1),.4)*R(),Ua=(9*Ua+a)/10}}function T(){if(window.nextUpdate<=0){var a=0,b=0,c=!1;(Math.abs(posX-Aa)>1||Math.abs(posY-Ba)>1)&&(posX=Aa,posY=Ba,a=Aa,b=Ba,c=!0),window.followMouse&&(Math.abs(posX-Ka)>1||Math.abs(posY-La)>1)&&(posX=Aa,posY=Ba,a=Ka,b=La,c=!0),c&&(window.connected&&window.server.send(JSON.stringify({type:"location",uuid:window.localStorage.uuid,x:Math.round(a),y:Math.round(b),score:0})),window.nextUpdate=10)}window.nextUpdate--;var d,e=Date.now();if(++Ma,Na=e,0<Da.length){S();for(var f=d=0,g=0;g<Da.length;g++)Da[g].K(),d+=Da[g].x/Da.length,f+=Da[g].y/Da.length;bb=d,cb=f,db=Ua,Aa=(Aa+d)/2,Ba=(Ba+f)/2}else Aa=(29*Aa+bb)/30,Ba=(29*Ba+cb)/30,Ua=(9*Ua+db*R())/10;for(j(),k(),nb||ua.clearRect(0,0,wa,xa),nb?(ua.fillStyle=_a?"#111111":"#F2FBFF",ua.globalAlpha=.05,ua.fillRect(0,0,wa,xa),ua.globalAlpha=1):U(),Fa.sort(function(a,b){return a.size==b.size?a.id-b.id:a.size-b.size}),ua.save(),ua.translate(wa/2,xa/2),ua.scale(Ua,Ua),ua.translate(-Aa,-Ba),g=0;g<Ga.length;g++)Ga[g].p(ua);for(g=0;g<Fa.length;g++)Fa[g].p(ua);if(hb){for(kb=(3*kb+ib)/4,lb=(3*lb+jb)/4,ua.save(),ua.strokeStyle="#FFAAAA",ua.lineWidth=10,ua.lineCap="round",ua.lineJoin="round",ua.globalAlpha=.5,ua.beginPath(),g=0;g<Da.length;g++)ua.moveTo(Da[g].x,Da[g].y),ua.lineTo(kb,lb);ua.stroke(),ua.restore()}ua.restore(),Vb&&Vb.width&&ua.drawImage(Vb,wa-Vb.width-10,10),$a=Math.max($a,W());var h="rgba(0, 0, 0, 0.3)";window.started||(h="rgba(255, 255, 255, 0.3)");var i="<br> <img src='http://agarbots.net/download/img/bot.png' width='16' height='16'> Bots: ",l="<br><img src='http://agarbots.net/download/img/time_icon.png'> Time left: ";window.connected?window.time>0?(l+=timeToDate(window.time),i+=window.connectedBots>0?window.connectedBots:"0"!==window.partyid&&0!==window.partyid?Date.now()-window.partycreatetime>1e4?"<span class='label label-info'>Party is full!</span>":0:"<span class='label label-info'>Create a new party...</span>"):(i+="<span class='label label-warning'>No time left!</span>",l+="<span class='label label-warning'>No time left!</span>"):Date.now()-window.lastdisconnect>75e3?(i+="<span class='label label-warning'>Connecting...</span>",l+="<span class='label label-warning'>Connecting...</span>"):(i+=window.connectedBots,l+=timeToDate(window.time));var m="<div class='panel panel-default' style='background-color: rgba(255, 255, 255, 0.66)'><div class='panel-body'><img src='http://agarbots.net/download/img/star.png'> Score: "+~~(W()/100)+i+l+"<br><img src='http://agarbots.net/download/img/marker.png'> Location: ("+Math.round(posX)+", "+Math.round(posY)+")<br><b>---------| Controls |---------</b><br><img src='http://agarbots.net/download/img/cursor.png'> Mouse bot control (<b>Q</b>): "+window.followMouse+"<br><img src='http://agarbots.net/download/img/split.png' width='16' height='16'> Split all bots: <b>E</b><br><img src='http://agarbots.net/download/img/eject.png' width='16' height='16'> Eject mass from bots: <b>D</b><br><img src='http://agarbots.net/download/img/cursor_split.png' width='16' height='16'> Fast Split: <b>SHIFT</b><br><img src='http://agarbots.net/download/img/food.png' width='16' height='16'> Fast Food: <b>S</b></div></div>",n=document.getElementById("botlayer");n.innerHTML=m,0!=$a&&(null==Xb&&(Xb=new ba(24,"#FFFFFF")),Xb.r(r("score")+": "+~~($a/100)),f=Xb.D(),d=f.width,ua.globalAlpha=.2,ua.fillStyle="#000000",ua.fillRect(10,xa-10-24-10,d+10,34),ua.globalAlpha=1,ua.drawImage(f,15,xa-10-24-5)),V(),e=Date.now()-e,e>1e3/60?Wb-=.01:1e3/65>e&&(Wb+=.01),.4>Wb&&(Wb=.4),Wb>1&&(Wb=1),e=Na-Oa,!N()||tb||jc?(sb+=e/2e3,sb>1&&(sb=1)):(sb-=e/300,0>sb&&(sb=0)),sb>0?(ua.fillStyle="#000000",vb?(ua.globalAlpha=sb,ua.fillRect(0,0,wa,xa),xb.complete&&xb.width&&(xb.width/xb.height<wa/xa?(e=wa,d=xb.height*wa/xb.width):(e=xb.width*xa/xb.height,d=xa),ua.drawImage(xb,(wa-e)/2,(xa-d)/2,e,d),ua.globalAlpha=.5*sb,ua.fillRect(0,0,wa,xa))):(ua.globalAlpha=.5*sb,ua.fillRect(0,0,wa,xa)),ua.globalAlpha=1):vb=!1,Oa=Na}function U(){ua.fillStyle=_a?"#111111":"#F2FBFF",ua.fillRect(0,0,wa,xa),ua.save(),ua.strokeStyle=_a?"#AAAAAA":"#000000",ua.globalAlpha=.2*Ua;for(var a=wa/Ua,b=xa/Ua,c=(-Aa+a/2)%50;a>c;c+=50)ua.beginPath(),ua.moveTo(c*Ua-.5,0),ua.lineTo(c*Ua-.5,b*Ua),ua.stroke();for(c=(-Ba+b/2)%50;b>c;c+=50)ua.beginPath(),ua.moveTo(0,c*Ua-.5),ua.lineTo(a*Ua,c*Ua-.5),ua.stroke();ua.restore()}function V(){if(yb&&zb.width){var a=wa/5;ua.drawImage(zb,5,5,a,a)}}function W(){for(var a=0,b=0;b<Da.length;b++)a+=Da[b].h*Da[b].h;return a}function X(){if(Vb=null,(null!=fb||0!=Ha.length)&&(null!=fb||Xa)){Vb=document.createElement("canvas");var a=Vb.getContext("2d"),b=60,b=null==fb?b+24*Ha.length:b+180,c=Math.min(200,.3*wa)/200;if(Vb.width=200*c,Vb.height=b*c,a.scale(c,c),a.globalAlpha=.4,a.fillStyle="#000000",a.fillRect(0,0,200,b),a.globalAlpha=1,a.fillStyle="#FFFFFF",c=null,c=r("leaderboard"),a.font="30px Ubuntu",a.fillText(c,100-a.measureText(c).width/2,40),null==fb)for(a.font="20px Ubuntu",b=0;b<Ha.length;++b)c=Ha[b].name||r("unnamed_cell"),Xa||(c=r("unnamed_cell")),-1!=Ca.indexOf(Ha[b].id)?(Da[0].name&&(c=Da[0].name),a.fillStyle="#FFAAAA"):a.fillStyle="#FFFFFF",c=b+1+". "+c,a.fillText(c,100-a.measureText(c).width/2,70+24*b);else for(b=c=0;b<fb.length;++b){var d=c+fb[b]*Math.PI*2;a.fillStyle=mb[b+1],a.beginPath(),a.moveTo(100,140),a.arc(100,140,80,c,d,!1),a.fill(),c=d}}}function Y(b){if(null==b||0==b.length)return null;if("%"==b[0]){if(!a.MC||!a.MC.getSkinInfo)return null;if(b=a.MC.getSkinInfo("skin_"+b.slice(1)),null==b)return null;for(b=(+b.color).toString(16);6>b.length;)b="0"+b;return"#"+b}return null}function Z(b){if(null==b||0==b.length)return null;if(!ac.hasOwnProperty(b)){var c=new Image;if(":"==b[0])c.src=b.slice(1);else if("%"==b[0]){if(!a.MC||!a.MC.getSkinInfo)return null;var d=a.MC.getSkinInfo("skin_"+b.slice(1));if(null==d)return null;c.src=a.ASSETS_ROOT+"skins/premium/"+d.url}ac[b]=c}return 0!=ac[b].width&&ac[b].complete?ac[b]:null}function $(a,b,c,d,e){this.Q=a,this.x=b,this.y=c,this.d=d,this.b=e}function _(a,b,c,d,e,f){this.id=a,this.l=this.x=b,this.m=this.y=c,this.k=this.size=d,this.color=e,this.a=[],this.R(),this.q(f)}function aa(a){for(a=a.toString(16);6>a.length;)a="0"+a;return"#"+a}function ba(a,b,c,d){a&&(this.n=a),b&&(this.N=b),this.P=!!c,d&&(this.o=d)}function ca(a){for(var c,d,b=a.length;b>0;)d=Math.floor(Math.random()*b),b--,c=a[b],a[b]=a[d],a[d]=c}function da(c,d){var e="1"==b("#helloContainer").attr("data-has-account-data");if(b("#helloContainer").attr("data-has-account-data","1"),null==d&&a.localStorage[dc]){var f=JSON.parse(a.localStorage[dc]);f.xp=c.xp,f.xpNeeded=c.xpNeeded,f.level=c.level,a.localStorage[dc]=JSON.stringify(f)}if(e){var g=+b(".agario-exp-bar .progress-bar-text").first().text().split("/")[0],e=+b(".agario-exp-bar .progress-bar-text").first().text().split("/")[1].split(" ")[0],f=b(".agario-profile-panel .progress-bar-star").first().text();if(f!=c.level)da({xp:e,xpNeeded:e,level:f},function(){b(".agario-profile-panel .progress-bar-star").text(c.level),b(".agario-exp-bar .progress-bar").css("width","100%"),b(".progress-bar-star").addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b(".progress-bar-star").removeClass("animated tada")}),setTimeout(function(){b(".agario-exp-bar .progress-bar-text").text(c.xpNeeded+"/"+c.xpNeeded+" XP"),da({xp:0,xpNeeded:c.xpNeeded,level:c.level},function(){da(c,d)})},1e3)});else{var h=Date.now(),i=function(){var e;e=(Date.now()-h)/1e3,e=0>e?0:e>1?1:e,e=e*e*(3-2*e),b(".agario-exp-bar .progress-bar-text").text(~~(g+(c.xp-g)*e)+"/"+c.xpNeeded+" XP"),b(".agario-exp-bar .progress-bar").css("width",(88*(g+(c.xp-g)*e)/c.xpNeeded).toFixed(2)+"%"),1>e?a.requestAnimationFrame(i):d&&d()};a.requestAnimationFrame(i)}}else b(".agario-profile-panel .progress-bar-star").text(c.level),b(".agario-exp-bar .progress-bar-text").text(c.xp+"/"+c.xpNeeded+" XP"),b(".agario-exp-bar .progress-bar").css("width",(88*c.xp/c.xpNeeded).toFixed(2)+"%"),d&&d()}function ea(c){"string"==typeof c&&(c=JSON.parse(c)),a.localStorage[dc]=JSON.stringify(c),qb=c.authToken;var d=c.name,d=d.substring(0,d.indexOf(" "));b(".agario-profile-name").text(d),P(),da({xp:c.xp,xpNeeded:c.xpNeeded,level:c.level}),b("#helloContainer").attr("data-logged-in","1")}function fa(a){a=a.split("\n"),ea({name:a[0],fbid:a[1],authToken:a[2],expires:1e3*+a[3],level:+a[4],xp:+a[5],xpNeeded:+a[6]})}function ga(c){if("connected"==c.status&&+a.localStorage.wannaLogin){var d=c.authResponse.accessToken;null==d||"undefined"==d||""==d?(3>ec&&(ec++,a.MC.facebookRelogin()),a.logout()):(a.localStorage.fbTokenCache=d,delete a.localStorage.wannaLogin,console.log("doLogin because fb logged in"),a.MC.doLoginWithFB(d),a.FB.api("/me/picture?width=180&height=180",function(c){a.localStorage.fbPictureCache=c.data.url,b(".agario-profile-picture").attr("src",c.data.url)}),b("#helloContainer").attr("data-logged-in","1"),null!=qb?a.checkSocialAPIToken(c):a.getSocialAPIToken())}}function ha(c){p(":party"),b("#helloContainer").attr("data-party-state","4"),c=decodeURIComponent(c).replace(/.*#/gim,""),ia("#"+a.encodeURIComponent(c)),b.ajax(ra+"getToken",{error:function(){b("#helloContainer").attr("data-party-state","6")},success:function(d){d=d.split("\n"),b(".partyToken").val("agar.io/#"+a.encodeURIComponent(c)),b("#helloContainer").attr("data-party-state","5"),p(":party"),D("ws://"+d[0],c),console.log("Party found"),window.partycreatetime=Date.now(),window.partyid=c,window.connected&&(console.log("Party sent - 1"),window.server.send(JSON.stringify({type:"party",uuid:window.localStorage.uuid,value:c})))},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:c})}function ia(b){a.history&&a.history.replaceState&&a.history.replaceState({},a.document.title,b)}function ja(a,b){var c=-1!=Ca.indexOf(a.id),d=-1!=Ca.indexOf(b.id),e=30>b.size;c&&e&&++hc,e||!c||d||32&b.U||++oc}function ka(a){a=~~a;var b=(a%60).toString();return a=(~~(a/60)).toString(),2>b.length&&(b="0"+b),a+":"+b}function la(){if(null==Ha)return 0;for(var a=0;a<Ha.length;++a)if(-1!=Ca.indexOf(Ha[a].id))return a+1;return 0}function ma(){b(".stats-food-eaten").text(hc),b(".stats-time-alive").text(ka((mc-lc)/1e3)),b(".stats-leaderboard-time").text(ka(nc)),b(".stats-highest-mass").text(~~($a/100)),b(".stats-cells-eaten").text(oc),b(".stats-top-position").text(0==pc?":(":pc);var a=document.getElementById("statsGraph");if(a){var c=a.getContext("2d"),d=a.width,a=a.height;if(c.clearRect(0,0,d,a),2<gc.length){for(var e=200,f=0;f<gc.length;f++)e=Math.max(gc[f],e);for(c.lineWidth=3,c.lineCap="round",c.lineJoin="round",c.strokeStyle=ic,c.fillStyle=ic,c.beginPath(),c.moveTo(0,a-gc[0]/e*(a-10)+10),f=1;f<gc.length;f+=Math.max(~~(gc.length/d),1)){for(var g=f/(gc.length-1)*d,h=[],i=-20;20>=i;++i)0>f+i||f+i>=gc.length||h.push(gc[f+i]);h=h.reduce(function(a,b){return a+b})/h.length/e,c.lineTo(g,a-h*(a-10)+10)}c.stroke(),c.globalAlpha=.5,c.lineTo(d,a),c.lineTo(0,a),c.fill(),c.globalAlpha=1}}}window.localStorage.uuid||(window.localStorage.uuid=guid()),b("<hr><center><p><b>"+Name+" v"+Version+' initialized!</b></p></center><div class="input-group"><span class="input-group-addon" id="basic-addon1">CLIENT-ID</span><input type="text" class="form-control" placeholder="Your UUID" value="'+window.localStorage.uuid+'" disabled aria-describedby="basic-addon1"></div>').appendTo("#instructions"),b("<div id='loadingbar'><br/><center><div class='progress'><div class='progress-bar progress-bar-striped active' role='progressbar'aria-valuenow='100' aria-valuemin='0' aria-valuemax='100' style='width:100%'>Connecting to the server...</div></div></center></div>").appendTo("#instructions");var na={};if(function(){var b=a.location.search;"?"==b.charAt(0)&&(b=b.slice(1));for(var b=b.split("&"),c=0;c<b.length;c++){var d=b[c].split("=");na[d[0]]=d[1]}}(),"fb"in na||"miniclip"in na||"http:"==a.location.protocol||(a.location.href="http:"+a.location.href.substring(a.location.protocol.length)),void 0!=a.EnvConfig){var oa=a.EnvConfig;a.EnvConfig=oa}if(!a.agarioNoInit){var pa=a.location.protocol,qa="https:"==pa;na.master&&(oa.master_url=na.master);var ra=pa+"//"+oa.master_url+"/",sa=a.navigator.userAgent;if(-1!=sa.indexOf("Android"))a.ga&&a.ga("send","event","MobileRedirect","PlayStore"),
setTimeout(function(){a.location.href="https://play.google.com/store/apps/details?id=com.miniclip.agar.io"},1e3);else if(-1!=sa.indexOf("iPhone")||-1!=sa.indexOf("iPad")||-1!=sa.indexOf("iPod"))a.ga&&a.ga("send","event","MobileRedirect","AppStore"),setTimeout(function(){a.location.href="https://itunes.apple.com/app/agar.io/id995999703?mt=8&at=1l3vajp"},1e3);else{var ta,ua,va,wa,xa,ya=null,za=null,Aa=0,Ba=0,Ca=[],Da=[],Ea={},Fa=[],Ga=[],Ha=[],Ia=0,Ja=0,Ka=-1,La=-1,Ma=0,Na=0,Oa=0,Pa=null,Qa=0,Ra=0,Sa=1e4,Ta=1e4,Ua=1,Va=null,Wa=!0,Xa=!0,Ya=!1,Za=!1,$a=0,_a=!1,ab=!1,bb=Aa=~~((Qa+Sa)/2),cb=Ba=~~((Ra+Ta)/2),db=1,eb="",fb=null,gb=!1,hb=!1,ib=0,jb=0,kb=0,lb=0,mb=["#333333","#FF3333","#33FF33","#3333FF"],nb=!1,ob=!1,pb=0,qb=null,rb=1,sb=1,tb=!1,ub=0,vb=!0,wb=null,xb=new Image;xb.src="/img/background.png";var yb="ontouchstart"in a&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(a.navigator.userAgent),zb=new Image;zb.src="/img/split.png";var Ab=document.createElement("canvas");if("undefined"==typeof console||"undefined"==typeof DataView||"undefined"==typeof WebSocket||null==Ab||null==Ab.getContext||null==a.localStorage)alert("You browser does not support this game, we recommend you to use Firefox to play this");else{var Bb=null;a.setNick=function(b){a.ga&&a.ga("send","event","Nick",b.toLowerCase()),m(),Pa=b,M(),$a=0},a.setRegion=n;var Cb=!0;a.setSkins=function(a){Wa=a},a.setNames=function(a){Xa=a},a.setDarkTheme=function(a){_a=a},a.setColors=function(a){Ya=a},a.setShowMass=function(a){ab=a},a.spectate=function(){Pa=null,O(1),m()},a.setGameMode=function(a){a!=eb&&(":party"==eb&&b("#helloContainer").attr("data-party-state","0"),p(a),":party"!=a&&B())},a.setAcid=function(a){nb=a},b.get(pa+"//gc.agar.io",function(a){var b=a.split(" ");a=b[0],b=b[1]||"",-1==["UA"].indexOf(a)&&$b.push("ussr"),Qb.hasOwnProperty(a)&&("string"==typeof Qb[a]?Va||n(Qb[a]):Qb[a].hasOwnProperty(b)&&(Va||n(Qb[a][b])))},"text");var Db=function(b){return b in na?+na[b]:null!=a.localStorage?(null==a.localStorage[b]&&(a.localStorage[b]=0+~~(100*Math.random())),+a.localStorage[b]):0},Eb="debugads"in na,Fb={},Gb=!0,Hb=0,Ib=!1,Jb={aa:[],ab:[],ac:[]};a.adSlots=Jb,a.getABGroup=u,a.refreshAd=v;var Kb={w:!1};a.agarAdModule=Kb;var Lb=!1,Mb=null,Nb=function(b){return b.defineSlot=function(b,c,d){var e=a.googletag;return{type:"dfpads",data:e.defineSlot(b,c,d).addService(e.pubads())}},b}({});a.googleAdsModule=Nb;var Ob=function(a){for(var b=0;b<a.length;b++)"type"in a[b]&&"rubicon"!=a[b].type||(Eb&&console.log("Rubicon: destroying:"+a[b].data.id,a[b]),Pb.W(a[b].data.id))},Pb=function(c){return c.F=function(a,b,c){var d="https:"==document.location.protocol?"https:":"http:";b=b.split("x");var e=a+"-fif",f=document.createElement("iframe");f.style.cssText="width: "+b[0]+"px; height: "+b[1]+"px; border: 0; margin: 0; padding: 0; overflow: hidden;",f.setAttribute("scrolling","no"),f.src="about:blank",f.id=e,document.getElementById(a).appendChild(f),a=f.contentWindow?f.contentWindow.document:f.contentDocument.document,a.open().write("<html>\n<head>\n<script type='text/javascript'>inDapIF=true;\n</script>\n</head>\n<body style='margin : 0; padding: 0;'>\n<!-- Rubicon Project Smart Tag -->\n<script type='text/javascript'>\nrp_account = '"+c.acct+"';\nrp_site = '"+c.site+"';\nrp_zonesize  = '"+c.zone+"-"+c.size+"';\nrp_adtype = 'js';\nrp_kw = '"+c.kw+"';\nrp_visitor = "+c.visitor+";\nrp_inventory = "+c.inventory+";\n</script>\n<script type='text/javascript' src= "+d+"//ads.rubiconproject.com/ad/"+c.acct+'.js"></script>\n</body>\n</html>'),a.close()},c.defineSlot=function(c,d,e){return d={type:"rubicon",data:{id:e,size:d}},c=b.extend({},c),c.kw=a.rpx_params.kw,c.visitor=JSON.stringify(a.rpx_params.visitor),c.inventory=JSON.stringify(a.rpx_params.inventory),d.data.json=c,d},c.la=function(a,c,d){var e=a+"-fif",f=b("#"+e);null!=f?f.remove():console.log("couldn't find element",f,e),this.F(a,c,d)},c.W=function(a){a+="-fif";var c=b("#"+a);null!=c?c.remove():console.log("couldn't find element",c,a)},c.ma=function(a,b,c){this.F(a,b,c)},c}({});a.rubiconAds=Pb;var Qb={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"EU-London",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"EU-London",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"},Rb=null;a.connect=D;var Sb=500,Tb=-1,Ub=-1;a.refreshPlayerInfo=function(){O(253)};var Vb=null,Wb=1,Xb=null,Yb=function(){var b=Date.now(),c=1e3/60;return function(){a.requestAnimationFrame(Yb);var d=Date.now(),e=d-b;e>c&&(b=d-e%c,!N()||240>Date.now()-pb?T():console.warn("Skipping draw"),fc())}}(),Zb={},$b="poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;venezuela;blatter;chavez;cuba;fidel;merkel;palin;queen;boris;bush;trump".split(";"),_b="8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;blatter;chavez;fidel;merkel;palin;queen;boris;bush;trump".split(";"),ac={};$.prototype={Q:null,x:0,y:0,d:0,b:0},_.prototype={id:0,a:null,name:null,i:null,I:null,x:0,y:0,size:0,l:0,m:0,k:0,B:0,C:0,h:0,U:0,L:0,X:0,u:!1,c:!1,g:!1,M:!0,T:0,J:null,S:function(){var a;for(a=0;a<Fa.length;a++)if(Fa[a]==this){Fa.splice(a,1);break}delete Ea[this.id],a=Da.indexOf(this),-1!=a&&(Za=!0,Da.splice(a,1)),a=Ca.indexOf(this.id),-1!=a&&Ca.splice(a,1),this.u=!0,0<this.T&&Ga.push(this)},f:function(){return Math.max(~~(.3*this.size),24)},q:function(a){(this.name=a)&&(null==this.i?this.i=new ba(this.f(),"#FFFFFF",!0,"#000000"):this.i.G(this.f()),this.i.r(this.name))},R:function(){for(var a=this.v();this.a.length>a;){var b=~~(Math.random()*this.a.length);this.a.splice(b,1)}for(0==this.a.length&&a>0&&this.a.push(new $(this,this.x,this.y,this.size,Math.random()-.5));this.a.length<a;)b=~~(Math.random()*this.a.length),b=this.a[b],this.a.push(new $(this,b.x,b.y,b.d,b.b))},v:function(){var a=10;20>this.size&&(a=0),this.c&&(a=30);var b=this.size;return this.c||(b*=Ua),b*=Wb,~~Math.max(b,a)},ea:function(){this.R();for(var a=this.a,b=a.length,c=0;b>c;++c){var d=a[(c-1+b)%b].b,e=a[(c+1)%b].b;a[c].b+=(Math.random()-.5)*(this.g?3:1),a[c].b*=.7,10<a[c].b&&(a[c].b=10),-10>a[c].b&&(a[c].b=-10),a[c].b=(d+e+8*a[c].b)/10}for(var f=this,g=this.c?0:(this.id/1e3+Na/1e4)%(2*Math.PI),c=0;b>c;++c){var h=a[c].d,d=a[(c-1+b)%b].d,e=a[(c+1)%b].d;if(15<this.size&&null!=ya&&20<this.size*Ua&&0<this.id){var i=!1,j=a[c].x,k=a[c].y;ya.fa(j-5,k-5,10,10,function(a){a.Q!=f&&25>(j-a.x)*(j-a.x)+(k-a.y)*(k-a.y)&&(i=!0)}),!i&&(a[c].x<Qa||a[c].y<Ra||a[c].x>Sa||a[c].y>Ta)&&(i=!0),i&&(0<a[c].b&&(a[c].b=0),a[c].b-=1)}h+=a[c].b,0>h&&(h=0),h=this.g?(19*h+this.size)/20:(12*h+this.size)/13,a[c].d=(d+e+8*h)/10,d=2*Math.PI/b,e=this.a[c].d,this.c&&0==c%2&&(e+=5),a[c].x=this.x+Math.cos(d*c+g)*e,a[c].y=this.y+Math.sin(d*c+g)*e}},K:function(){if(0>=this.id)return 1;var a;a=(Na-this.L)/120,a=0>a?0:a>1?1:a;var b=0>a?0:a>1?1:a;if(this.f(),this.u&&b>=1){var c=Ga.indexOf(this);-1!=c&&Ga.splice(c,1)}return this.x=a*(this.B-this.l)+this.l,this.y=a*(this.C-this.m)+this.m,this.size=b*(this.h-this.k)+this.k,b},H:function(){return 0>=this.id?!0:this.x+this.size+40<Aa-wa/2/Ua||this.y+this.size+40<Ba-xa/2/Ua||this.x-this.size-40>Aa+wa/2/Ua||this.y-this.size-40>Ba+xa/2/Ua?!1:!0},p:function(b){if(this.H()){++this.T;var c=0<this.id&&!this.c&&!this.g&&.4>Ua;if(5>this.v()&&0<this.id&&(c=!0),this.M&&!c)for(var d=0;d<this.a.length;d++)this.a[d].d=this.size;if(this.M=c,b.save(),this.X=Na,d=this.K(),this.u&&(b.globalAlpha*=1-d),b.lineWidth=10,b.lineCap="round",b.lineJoin=this.c?"miter":"round",Ya?(b.fillStyle="#FFFFFF",b.strokeStyle="#AAAAAA"):(d=Y(this.J)||this.color,Wa&&":teams"!=eb||(d=this.color),b.fillStyle=d,b.strokeStyle=d),c)b.beginPath(),b.arc(this.x,this.y,this.size+5,0,2*Math.PI,!1);else{this.ea(),b.beginPath();var e=this.v();for(b.moveTo(this.a[0].x,this.a[0].y),d=1;e>=d;++d){var f=d%e;b.lineTo(this.a[f].x,this.a[f].y)}}if(b.closePath(),e=this.name.toLowerCase(),!this.g&&Wa&&":teams"!=eb?(d=Z(this.J))||(-1!=$b.indexOf(e)?(Zb.hasOwnProperty(e)||(Zb[e]=new Image,Zb[e].src=a.ASSETS_ROOT+"skins/"+e+".png"),d=0!=Zb[e].width&&Zb[e].complete?Zb[e]:null):d=null):d=null,f=d,c||b.stroke(),b.fill(),null!=f&&(b.save(),b.clip(),d=Math.max(this.size,this.h),b.drawImage(f,this.x-d-5,this.y-d-5,2*d+10,2*d+10),b.restore()),(Ya||15<this.size)&&!c&&(b.strokeStyle="#000000",b.globalAlpha*=.1,b.stroke()),b.globalAlpha=1,d=-1!=Da.indexOf(this),c=~~this.y,0!=this.id&&(Xa||d)&&this.name&&this.i&&(null==f||-1==_b.indexOf(e))){f=this.i,f.r(this.name),f.G(this.f()),e=0>=this.id?1:Math.ceil(10*Ua)/10,f.V(e);var f=f.D(),g=~~(f.width/e),h=~~(f.height/e);b.drawImage(f,~~this.x-~~(g/2),c-~~(h/2),g,h),c+=f.height/2/e+4}0<this.id&&ab&&(d||0==Da.length&&(!this.c||this.g)&&20<this.size)&&(null==this.I&&(this.I=new ba(this.f()/2,"#FFFFFF",!0,"#000000")),d=this.I,d.G(this.f()/2),d.r(~~(this.size*this.size/100)),e=Math.ceil(10*Ua)/10,d.V(e),f=d.D(),g=~~(f.width/e),h=~~(f.height/e),b.drawImage(f,~~this.x-~~(g/2),c-~~(h/2),g,h)),b.restore()}}},ba.prototype={t:"",N:"#000000",P:!1,o:"#000000",n:16,j:null,O:null,e:!1,s:1,G:function(a){this.n!=a&&(this.n=a,this.e=!0)},V:function(a){this.s!=a&&(this.s=a,this.e=!0)},setStrokeColor:function(a){this.o!=a&&(this.o=a,this.e=!0)},r:function(a){a!=this.t&&(this.t=a,this.e=!0)},D:function(){if(null==this.j&&(this.j=document.createElement("canvas"),this.O=this.j.getContext("2d")),this.e){this.e=!1;var a=this.j,b=this.O,c=this.t,d=this.s,e=this.n,f=e+"px Ubuntu";b.font=f;var g=~~(.2*e);a.width=(b.measureText(c).width+6)*d,a.height=(e+g)*d,b.font=f,b.scale(d,d),b.globalAlpha=1,b.lineWidth=3,b.strokeStyle=this.o,b.fillStyle=this.N,this.P&&b.strokeText(c,3,e-g/2),b.fillText(c,3,e-g/2)}return this.j}},Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!a.requestAnimationFrame;++c)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[b[c]+"CancelAnimationFrame"]||a[b[c]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(a){return setTimeout(a,1e3/60)},a.cancelAnimationFrame=function(a){clearTimeout(a)})}();var bc={init:function(a){function b(a){return d>a&&(a=d),a>f&&(a=f),~~((a-d)/32)}function c(a){return e>a&&(a=e),a>g&&(a=g),~~((a-e)/32)}var d=a.ca,e=a.da,f=a.$,g=a.ba,h=~~((f-d)/32)+1,i=~~((g-e)/32)+1,j=Array(h*i);return{Z:function(a){var d=b(a.x)+c(a.y)*h;null==j[d]?j[d]=a:Array.isArray(j[d])?j[d].push(a):j[d]=[j[d],a]},fa:function(a,d,e,f,g){var k=b(a),l=c(d);for(a=b(a+e),d=c(d+f);d>=l;++l)for(f=k;a>=f;++f)if(e=j[f+l*h],null!=e)if(Array.isArray(e))for(var m=0;m<e.length;m++)g(e[m]);else g(e)}}}},cc=function(){var a=new _(0,0,0,32,"#ED1C24",""),b=document.createElement("canvas");b.width=32,b.height=32;var c=b.getContext("2d");return function(){0<Da.length&&(a.color=Da[0].color,a.q(Da[0].name)),c.clearRect(0,0,32,32),c.save(),c.translate(16,16),c.scale(.4,.4),a.p(c),c.restore();var d=document.getElementById("favicon"),e=d.cloneNode(!0);e.setAttribute("href",b.toDataURL("image/png")),d.parentNode.replaceChild(e,d)}}();b(function(){cc()});var dc="loginCache3",ec=0;a.checkSocialAPIToken=function(a){b.ajax(ra+"checkToken",{error:function(){qb=null,ga(a)},success:function(a){a=a.split("\n"),da({level:+a[0],xp:+a[1],xpNeeded:+a[2]})},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:qb})},a.getSocialAPIToken=function(){b.ajax(ra+"facebookLogin",{error:function(){qb=null,b("#helloContainer").attr("data-logged-in","0")},success:fa,dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:a.localStorage.fbTokenCache})},a.facebookLogin=function(){a.localStorage.wannaLogin=1},a.checkLoginStatus=function(){if(a.gameServerLogin(),+a.localStorage.wannaLogin){var b=a.localStorage.fbTokenCache;b&&(delete a.localStorage.wannaLogin,a.MC.doLoginWithFB(b,!0))}},a.fbAsyncInit=function(){function b(){a.localStorage.wannaLogin=1,null==a.FB?alert("You seem to have something blocking Facebook on your browser, please check for any extensions"):a.FB.login(function(a){ga(a)},{scope:"public_profile, email"})}a.FB.init({appId:oa.fb_app_id,cookie:!0,xfbml:!0,status:!0,version:"v2.2"}),a.FB.Event.subscribe("auth.statusChange",function(c){console.log("window.localStorage['wannaLogin'] = "+a.localStorage.wannaLogin),+a.localStorage.wannaLogin&&("connected"==c.status?ga(c):(console.log("user not connected, facebookLogin()"),b()))}),a.facebookRelogin=b,a.facebookLogin=b},a.logout=function(){qb=null,b("#helloContainer").attr("data-logged-in","0"),b("#helloContainer").attr("data-has-account-data","0"),delete a.localStorage.wannaLogin,delete a.localStorage[dc],delete a.localStorage.fbPictureCache,delete a.localStorage.fbTokenCache,B(),a.MC.doLogout()},a.gameServerLogin=function(){if(+a.localStorage.wannaLogin){var c=a.localStorage[dc];c&&ea(c),a.localStorage.fbPictureCache&&b(".agario-profile-picture").attr("src",a.localStorage.fbPictureCache)}},b(function(){a.localStorage[dc]&&(a.facebookLogin(),a.gameServerLogin())});var fc=function(){function a(a,b,c,d,e){var f=b.getContext("2d"),g=b.width;b=b.height,a.color=e,a.q(c),a.size=d,f.save(),f.translate(g/2,b/2),a.p(f),f.restore()}for(var c=new _(-1,0,0,32,"#5bc0de",""),d=new _(-1,0,0,32,"#5bc0de",""),e="#0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" "),f=[],g=0;g<e.length;++g){var h=g/e.length*12,i=30*Math.sqrt(g/e.length);f.push(new _(-1,Math.cos(h)*i,Math.sin(h)*i,10,e[g],""))}ca(f);var j=document.createElement("canvas");return j.getContext("2d"),j.width=j.height=70,a(d,j,"",26,"#ebc0de"),function(){b(".cell-spinner").filter(":visible").each(function(){var d=b(this),e=Date.now(),f=this.width,g=this.height,h=this.getContext("2d");h.clearRect(0,0,f,g),h.save(),h.translate(f/2,g/2);for(var i=0;10>i;++i)h.drawImage(j,(.1*e+80*i)%(f+140)-f/2-70-35,g/2*Math.sin((.001*e+i)%Math.PI*2)-35,70,70);h.restore(),(d=d.attr("data-itr"))&&(d=r(d)),a(c,this,d||"",+b(this).attr("data-size"),"#5bc0de")}),b("#statsPellets").filter(":visible").each(function(){b(this);var c=this.width,d=this.height;for(this.getContext("2d").clearRect(0,0,c,d),c=0;c<f.length;c++)a(f[c],this,"",f[c].size,f[c].color)})}}();a.createParty=function(){p(":party"),Rb=function(c){window.partycreatetime=Date.now(),window.partyid=c,window.connected&&(console.log("Party sent - 2 (created)"),window.server.send(JSON.stringify({type:"party",uuid:window.localStorage.uuid,value:c}))),ia("/#"+a.encodeURIComponent(c)),b(".partyToken").val("agar.io/#"+a.encodeURIComponent(c)),b("#helloContainer").attr("data-party-state","1")},B()},a.joinParty=ha,a.cancelParty=function(){window.partyid=0,console.log("Party sent - 3 (leave)"),window.server.send(JSON.stringify({type:"party",uuid:window.localStorage.uuid,value:0})),ia("/"),b("#helloContainer").attr("data-party-state","0"),p(""),B()};var gc=[],hc=0,ic="#000000",jc=!1,kc=!1,lc=0,mc=0,nc=0,oc=0,pc=0,qc=!0;setInterval(function(){kc&&gc.push(W()/100)},1e3/60),setInterval(function(){var a=la();0!=a&&(++nc,0==pc&&(pc=a),pc=Math.min(pc,a))},1e3),a.closeStats=function(){jc=!1,b("#stats").hide();var a=Jb.ab;y(a),Ob(a),o(0)},a.setSkipStats=function(a){qc=!a},b(function(){b(c),"MAsyncInit"in a&&a.MAsyncInit()})}}}},d=window;!function(){for(var a=["ms","moz","webkit","o"],b=0;b<a.length&&!d.requestAnimationFrame;++b)d.requestAnimationFrame=d[a[b]+"RequestAnimationFrame"],d.cancelAnimationFrame=d[a[b]+"CancelAnimationFrame"]||d[a[b]+"CancelRequestAnimationFrame"];d.requestAnimationFrame||(d.requestAnimationFrame=function(a){return setTimeout(a,1e3/60)},d.cancelAnimationFrame=function(a){clearTimeout(a)})}(),q();
